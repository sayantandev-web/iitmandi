import e from "./jquery.module.vG6vucuxogm0.js";import C,{removeToggleStyles as j}from "./submenu-toggle.i3ToZsVSIofa.js";import "./jquery-hoverintent.QzuCi_STP-r5.js";window.jQuery=window.jQuery||e;export default async function S(){let t;try{await import("./superfish.hzX6spBBrKIs.js"),t=!0}catch(c){t=!1}const p=e(".primary-nav"),s=e(".primary-nav--mega"),o=e(".primary-nav--superfish > .menu"),r=e(".primary-nav .menu .menu"),v=e(".primary-nav .menu .menu .menu"),i=e(".primary-nav a"),g="(min-width: 992px)",m=e(".primary-nav .submenu-toggle"),u=document.querySelector(".l-header--fixed"),y=document.querySelector("body");let n=!1;const a=300,l=2,w=()=>{s.hoverIntent(()=>{clearTimeout(n),s.addClass("is-hover")},()=>{n=setTimeout(()=>{s.removeClass("is-hover")},a)}),i.on("focus",()=>{clearTimeout(n),s.addClass("is-hover")}),i.on("focusout",()=>{n=setTimeout(()=>{s.removeClass("is-hover")},a)})},d=(c,b)=>{j(r.get()),c.matches||b?(s.length&&(r.show(),v.removeAttr("style").hide(),w()),o.length&&t&&o.superfish({hoverClass:"sf--hover",delay:a,cssArrows:!1,onBeforeShow(){const f=this.parents(".menu").length;f===l&&e(this).find("a").removeClass("sf-with-ul"),f>l&&e(this).addClass("u-hidden--visually")}})):(s.length&&p.off("mouseenter mouseleave"),o.length&&t&&(o.superfish("destroy"),o.find(".u-hidden--visually").removeClass("u-hidden--visually")),r.removeAttr("style").hide(),m.removeClass("submenu-toggle--open"))},h=window.matchMedia(g);h.addListener(d),d(h),C(m.get()),s.length&&(u?u.classList.add("has-mega"):y.classList.add("has-mega"))}