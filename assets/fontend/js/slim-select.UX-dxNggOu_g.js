var x={};(function(g,O){typeof x=="object"&&typeof module=="object"?module.exports=O():typeof define=="function"&&define.amd?define([],O):typeof x=="object"?x.SlimSelect=O():g.SlimSelect=O()})(window,function(){return w={},g.m=O=[function(h,d,m){function v(o,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(o,i.bubbles,i.cancelable,i.detail),t}var u;d.__esModule=!0,d.hasClassInTree=function(o,i){function t(s,a){return a&&s&&s.classList&&s.classList.contains(a)?s:null}return t(o,i)||function s(a,e){return a&&a!==document?t(a,e)?a:s(a.parentNode,e):null}(o,i)},d.ensureElementInView=function(o,i){var t=o.scrollTop+o.offsetTop,s=t+o.clientHeight,a=i.offsetTop,e=a+i.clientHeight;a<t?o.scrollTop-=t-a:s<e&&(o.scrollTop+=e-s)},d.putContent=function(o,i,t){var s=o.offsetHeight,a=o.getBoundingClientRect(),e=t?a.top:a.top-s,n=t?a.bottom:a.bottom+s;return e<=0?"below":n>=window.innerHeight?"above":t?i:"below"},d.debounce=function(o,i,t){var s;return i===void 0&&(i=100),t===void 0&&(t=!1),function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var n=self,l=t&&!s;clearTimeout(s),s=setTimeout(function(){s=null,t||o.apply(n,a)},i),l&&o.apply(n,a)}},d.isValueInArrayOfObjects=function(o,i,t){if(!Array.isArray(o))return o[i]===t;for(var s=0,a=o;s<a.length;s++){var e=a[s];if(e&&e[i]&&e[i]===t)return!0}return!1},d.highlight=function(o,i,t){var s=o,a=new RegExp("("+i.trim()+")(?![^<]*>[^<>]*</)","i");if(!o.match(a))return o;var e=o.match(a).index,n=e+o.match(a)[0].toString().length,l=o.substring(e,n);return s=s.replace(a,'<mark class="'+t+'">'+l+"</mark>")},d.kebabCase=function(o){var i=o.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(t){return"-"+t.toLowerCase()});return o[0]===o[0].toUpperCase()?i.substring(1):i},typeof(u=window).CustomEvent!="function"&&(v.prototype=u.Event.prototype,u.CustomEvent=v)},function(h,d,m){d.__esModule=!0;var v=(u.prototype.newOption=function(i){return{id:i.id?i.id:String(Math.floor(1e8*Math.random())),value:i.value?i.value:"",text:i.text?i.text:"",innerHTML:i.innerHTML?i.innerHTML:"",selected:!!i.selected&&i.selected,display:i.display===void 0||i.display,disabled:!!i.disabled&&i.disabled,placeholder:!!i.placeholder&&i.placeholder,class:i.class?i.class:void 0,data:i.data?i.data:{},mandatory:!!i.mandatory&&i.mandatory}},u.prototype.add=function(i){this.data.push({id:String(Math.floor(1e8*Math.random())),value:i.value,text:i.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:i.mandatory,data:{}})},u.prototype.parseSelectData=function(){this.data=[];for(var i=0,t=this.main.select.element.childNodes;i<t.length;i++){var s=t[i];if(s.nodeName==="OPTGROUP"){for(var a={label:s.label,options:[]},e=0,n=s.childNodes;e<n.length;e++){var l=n[e];if(l.nodeName==="OPTION"){var r=this.pullOptionData(l);a.options.push(r),r.placeholder&&r.text.trim()!==""&&(this.main.config.placeholderText=r.text)}}this.data.push(a)}else s.nodeName==="OPTION"&&(r=this.pullOptionData(s),this.data.push(r),r.placeholder&&r.text.trim()!==""&&(this.main.config.placeholderText=r.text))}},u.prototype.pullOptionData=function(i){return{id:!!i.dataset&&i.dataset.id||String(Math.floor(1e8*Math.random())),value:i.value,text:i.text,innerHTML:i.innerHTML,selected:i.selected,disabled:i.disabled,placeholder:i.dataset.placeholder==="true",class:i.className,style:i.style.cssText,data:i.dataset,mandatory:!!i.dataset&&i.dataset.mandatory==="true"}},u.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var i=[],t=0,s=this.main.select.element.options;t<s.length;t++){var a=s[t];if(a.selected){var e=this.getObjectFromData(a.value,"value");e&&e.id&&i.push(e.id)}}this.setSelected(i,"id")}else{var n=this.main.select.element;if(n.selectedIndex!==-1){var l=n.options[n.selectedIndex].value;this.setSelected(l,"value")}}},u.prototype.setSelected=function(i,t){t===void 0&&(t="id");for(var s=0,a=this.data;s<a.length;s++){var e=a[s];if(e.hasOwnProperty("label")){if(e.hasOwnProperty("options")){var n=e.options;if(n)for(var l=0,r=n;l<r.length;l++){var c=r[l];c.placeholder||(c.selected=this.shouldBeSelected(c,i,t))}}}else e.selected=this.shouldBeSelected(e,i,t)}},u.prototype.shouldBeSelected=function(i,t,s){if(s===void 0&&(s="id"),Array.isArray(t))for(var a=0,e=t;a<e.length;a++){var n=e[a];if(s in i&&String(i[s])===String(n))return!0}else if(s in i&&String(i[s])===String(t))return!0;return!1},u.prototype.getSelected=function(){for(var i={text:"",placeholder:this.main.config.placeholderText},t=[],s=0,a=this.data;s<a.length;s++){var e=a[s];if(e.hasOwnProperty("label")){if(e.hasOwnProperty("options")){var n=e.options;if(n)for(var l=0,r=n;l<r.length;l++){var c=r[l];c.selected&&(this.main.config.isMultiple?t.push(c):i=c)}}}else e.selected&&(this.main.config.isMultiple?t.push(e):i=e)}return this.main.config.isMultiple?t:i},u.prototype.addToSelected=function(i,t){if(t===void 0&&(t="id"),this.main.config.isMultiple){var s=[],a=this.getSelected();if(Array.isArray(a))for(var e=0,n=a;e<n.length;e++){var l=n[e];s.push(l[t])}s.push(i),this.setSelected(s,t)}},u.prototype.removeFromSelected=function(i,t){if(t===void 0&&(t="id"),this.main.config.isMultiple){for(var s=[],a=0,e=this.getSelected();a<e.length;a++){var n=e[a];String(n[t])!==String(i)&&s.push(n[t])}this.setSelected(s,t)}},u.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},u.prototype.getObjectFromData=function(i,t){t===void 0&&(t="id");for(var s=0,a=this.data;s<a.length;s++){var e=a[s];if(t in e&&String(e[t])===String(i))return e;if(e.hasOwnProperty("options")&&e.options)for(var n=0,l=e.options;n<l.length;n++){var r=l[n];if(String(r[t])===String(i))return r}}return null},u.prototype.search=function(i){if((this.searchValue=i).trim()!==""){var t=this.main.config.searchFilter,s=this.data.slice(0);i=i.trim();var a=s.map(function(e){if(e.hasOwnProperty("options")){var n=e,l=[];if(n.options&&(l=n.options.filter(function(c){return t(c,i)})),l.length!==0){var r=Object.assign({},n);return r.options=l,r}}return e.hasOwnProperty("text")&&t(e,i)?e:null});this.filtered=a.filter(function(e){return e})}else this.filtered=null},u);function u(i){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=i.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function o(i){return i.text!==void 0||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(i)),!1)}d.Data=v,d.validateData=function(i){if(!i)return console.error("Data must be an array of objects"),!1;for(var t=0,s=0,a=i;s<a.length;s++){var e=a[s];if(e.hasOwnProperty("label")){if(e.hasOwnProperty("options")){var n=e.options;if(n)for(var l=0,r=n;l<r.length;l++)o(r[l])||t++}}else o(e)||t++}return t===0},d.validateOption=o},function(h,d,m){d.__esModule=!0;var v=m(3),u=m(4),o=m(5),i=m(1),t=m(0),s=(a.prototype.validate=function(e){var n=typeof e.select=="string"?document.querySelector(e.select):e.select;if(!n)throw new Error("Could not find select element");if(n.tagName!=="SELECT")throw new Error("Element isnt of type select");return n},a.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],n=0,l=c=this.data.getSelected();n<l.length;n++){var r=l[n];e.push(r.value)}return e}var c;return(c=this.data.getSelected())?c.value:""},a.prototype.set=function(e,n,l,r){n===void 0&&(n="value"),l===void 0&&(l=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,n):this.data.setSelected(e,n),this.select.setValue(),this.data.onDataChange(),this.render(),l&&this.close()},a.prototype.setSelected=function(e,n,l,r){n===void 0&&(n="value"),l===void 0&&(l=!0),r===void 0&&(r=!0),this.set(e,n,l,r)},a.prototype.setData=function(e){if(i.validateData(e)){for(var n=JSON.parse(JSON.stringify(e)),l=this.data.getSelected(),r=0;r<n.length;r++)n[r].value||n[r].placeholder||(n[r].value=n[r].text);if(this.config.isAjax&&l)if(this.config.isMultiple)for(var c=0,f=l.reverse();c<f.length;c++){var p=f[c];n.unshift(p)}else{for(n.unshift(l),r=0;r<n.length;r++)n[r].placeholder||n[r].value!==l.value||n[r].text!==l.text||delete n[r];var b=!1;for(r=0;r<n.length;r++)n[r].placeholder&&(b=!0);b||n.unshift({text:"",placeholder:!0})}this.select.create(n),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},a.prototype.addData=function(e){i.validateData([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},a.prototype.open=function(){var e=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow),this.config.addToBody){var n=this.slim.container.getBoundingClientRect();this.slim.content.style.top=n.top+n.height+window.scrollY+"px",this.slim.content.style.left=n.left+window.scrollX+"px",this.slim.content.style.width=n.width+"px"}if(this.slim.content.classList.add(this.config.open),this.config.showContent.toLowerCase()==="up"||this.config.showContent.toLowerCase()!=="down"&&t.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var l=this.data.getSelected();if(l){var r=l.id,c=this.slim.list.querySelector('[data-id="'+r+'"]');c&&t.ensureElementInView(this.slim.list,c)}}setTimeout(function(){e.data.contentOpen=!0,e.config.searchFocus&&e.slim.search.input.focus(),e.afterOpen&&e.afterOpen()},this.config.timeoutDelay)}},a.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()},this.config.timeoutDelay))},a.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var n=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+n+"px 0 0 0",this.slim.content.style.height=n-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},a.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},a.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},a.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},a.prototype.search=function(e){if(this.data.searchValue!==e)if(this.slim.search.input.value=e,this.config.isAjax){var n=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(e,function(l){n.config.isSearching=!1,Array.isArray(l)?(l.unshift({text:"",placeholder:!0}),n.setData(l),n.data.search(e),n.render()):typeof l=="string"?n.slim.options(l):n.render()})}else this.data.search(e),this.render()},a.prototype.setSearchText=function(e){this.config.searchText=e},a.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},a.prototype.destroy=function(e){e===void 0&&(e=null);var n=e?document.querySelector("."+e+".ss-main"):this.slim.container,l=e?document.querySelector("[data-ssid="+e+"]"):this.select.element;if(n&&l&&(document.removeEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),l.style.display="",delete l.dataset.ssid,l.slim=null,n.parentElement&&n.parentElement.removeChild(n),this.config.addToBody)){var r=e?document.querySelector("."+e+".ss-content"):this.slim.content;if(!r)return;document.body.removeChild(r)}},a);function a(e){var n=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=t.debounce(function(r){n.data.contentOpen&&(t.putContent(n.slim.content,n.data.contentPosition,n.data.contentOpen)==="above"?n.moveContentAbove():n.moveContentBelow())}),this.documentClick=function(r){r.target&&!t.hasClassInTree(r.target,n.config.id)&&n.close()};var l=this.validate(e);l.dataset.ssid&&this.destroy(l.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new v.Config({select:l,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new u.Select({select:l,main:this}),this.data=new i.Data({main:this}),this.slim=new o.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}d.default=s},function(h,d,m){d.__esModule=!0;var v=(u.prototype.searchFilter=function(o,i){return o.text.toLowerCase().indexOf(i.toLowerCase())!==-1},u);function u(o){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=o.select.style.cssText,this.class=o.select.className.split(" "),this.isMultiple=o.select.multiple,this.isAjax=o.isAjax,this.showSearch=o.showSearch!==!1,this.searchFocus=o.searchFocus!==!1,this.searchHighlight=o.searchHighlight===!0,this.closeOnSelect=o.closeOnSelect!==!1,o.showContent&&(this.showContent=o.showContent),this.isEnabled=o.isEnabled!==!1,o.searchPlaceholder&&(this.searchPlaceholder=o.searchPlaceholder),o.searchText&&(this.searchText=o.searchText),o.searchingText&&(this.searchingText=o.searchingText),o.placeholderText&&(this.placeholderText=o.placeholderText),this.allowDeselect=o.allowDeselect===!0,this.allowDeselectOption=o.allowDeselectOption===!0,this.hideSelectedOption=o.hideSelectedOption===!0,o.deselectLabel&&(this.deselectLabel=o.deselectLabel),o.valuesUseText&&(this.valuesUseText=o.valuesUseText),o.showOptionTooltips&&(this.showOptionTooltips=o.showOptionTooltips),o.selectByGroup&&(this.selectByGroup=o.selectByGroup),o.limit&&(this.limit=o.limit),o.searchFilter&&(this.searchFilter=o.searchFilter),o.timeoutDelay!=null&&(this.timeoutDelay=o.timeoutDelay),this.addToBody=o.addToBody===!0}d.Config=v},function(h,d,m){d.__esModule=!0;var v=m(0),u=(o.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var i=this.main.data.getSelected(),t=0,s=this.element.options;t<s.length;t++){var a=s[t];a.selected=!1;for(var e=0,n=i;e<n.length;e++)n[e].value===a.value&&(a.selected=!0)}else i=this.main.data.getSelected(),this.element.value=i?i.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},o.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id},o.prototype.addEventListeners=function(){var i=this;this.element.addEventListener("change",function(t){i.main.data.setSelectedFromSelect(),i.main.render()})},o.prototype.addMutationObserver=function(){var i=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(t){i.triggerMutationObserver&&(i.main.data.parseSelectData(),i.main.data.setSelectedFromSelect(),i.main.render(),t.forEach(function(s){s.attributeName==="class"&&i.main.slim.updateContainerDivClass(i.main.slim.container)}))}),this.observeMutationObserver())},o.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},o.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},o.prototype.create=function(i){this.element.innerHTML="";for(var t=0,s=i;t<s.length;t++){var a=s[t];if(a.hasOwnProperty("options")){var e=a,n=document.createElement("optgroup");if(n.label=e.label,e.options)for(var l=0,r=e.options;l<r.length;l++){var c=r[l];n.appendChild(this.createOption(c))}this.element.appendChild(n)}else this.element.appendChild(this.createOption(a))}},o.prototype.createOption=function(i){var t=document.createElement("option");return t.value=i.value!==""?i.value:i.text,t.innerHTML=i.innerHTML||i.text,i.selected&&(t.selected=i.selected),i.display===!1&&(t.style.display="none"),i.disabled&&(t.disabled=!0),i.placeholder&&t.setAttribute("data-placeholder","true"),i.mandatory&&t.setAttribute("data-mandatory","true"),i.class&&i.class.split(" ").forEach(function(s){t.classList.add(s)}),i.data&&typeof i.data=="object"&&Object.keys(i.data).forEach(function(s){t.setAttribute("data-"+v.kebabCase(s),i.data[s])}),t},o);function o(i){this.triggerMutationObserver=!0,this.element=i.select,this.main=i.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=i.main}d.Select=u},function(h,d,m){d.__esModule=!0;var v=m(0),u=m(1),o=(i.prototype.containerDiv=function(){var t=document.createElement("div");return t.style.cssText=this.main.config.style,this.updateContainerDivClass(t),t},i.prototype.updateContainerDivClass=function(t){this.main.config.class=this.main.select.element.className.split(" "),t.className="",t.classList.add(this.main.config.id),t.classList.add(this.main.config.main);for(var s=0,a=this.main.config.class;s<a.length;s++){var e=a[s];e.trim()!==""&&t.classList.add(e)}},i.prototype.singleSelectedDiv=function(){var t=this,s=document.createElement("div");s.classList.add(this.main.config.singleSelected);var a=document.createElement("span");a.classList.add("placeholder"),s.appendChild(a);var e=document.createElement("span");e.innerHTML=this.main.config.deselectLabel,e.classList.add("ss-deselect"),e.onclick=function(r){r.stopPropagation(),t.main.config.isEnabled&&t.main.set("")},s.appendChild(e);var n=document.createElement("span");n.classList.add(this.main.config.arrow);var l=document.createElement("span");return l.classList.add("arrow-down"),n.appendChild(l),s.appendChild(n),s.onclick=function(){t.main.config.isEnabled&&(t.main.data.contentOpen?t.main.close():t.main.open())},{container:s,placeholder:a,deselect:e,arrowIcon:{container:n,arrow:l}}},i.prototype.placeholder=function(){var t=this.main.data.getSelected();if(t===null||t&&t.placeholder){var s=document.createElement("span");s.classList.add(this.main.config.disabled),s.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=s.outerHTML)}else{var a="";t&&(a=t.innerHTML&&this.main.config.valuesUseText!==!0?t.innerHTML:t.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t?a:"")}},i.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add("ss-hide");this.main.selected()===""?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide")}},i.prototype.multiSelectedDiv=function(){var t=this,s=document.createElement("div");s.classList.add(this.main.config.multiSelected);var a=document.createElement("div");a.classList.add(this.main.config.values),s.appendChild(a);var e=document.createElement("div");e.classList.add(this.main.config.add);var n=document.createElement("span");return n.classList.add(this.main.config.plus),n.onclick=function(l){t.main.data.contentOpen&&(t.main.close(),l.stopPropagation())},e.appendChild(n),s.appendChild(e),s.onclick=function(l){t.main.config.isEnabled&&(l.target.classList.contains(t.main.config.valueDelete)||(t.main.data.contentOpen?t.main.close():t.main.open()))},{container:s,values:a,add:e,plus:n}},i.prototype.values=function(){if(this.multiSelected){for(var t,s=this.multiSelected.values.childNodes,a=this.main.data.getSelected(),e=[],n=0,l=s;n<l.length;n++){var r=l[n];t=!0;for(var c=0,f=a;c<f.length;c++){var p=f[c];String(p.id)===String(r.dataset.id)&&(t=!1)}t&&e.push(r)}for(var b=0,S=e;b<S.length;b++){var L=S[b];L.classList.add("ss-out"),this.multiSelected.values.removeChild(L)}for(s=this.multiSelected.values.childNodes,p=0;p<a.length;p++){t=!1;for(var y=0,C=s;y<C.length;y++)r=C[y],String(a[p].id)===String(r.dataset.id)&&(t=!0);t||(s.length!==0&&HTMLElement.prototype.insertAdjacentElement?p===0?this.multiSelected.values.insertBefore(this.valueDiv(a[p]),s[p]):s[p-1].insertAdjacentElement("afterend",this.valueDiv(a[p])):this.multiSelected.values.appendChild(this.valueDiv(a[p])))}if(a.length===0){var T=document.createElement("span");T.classList.add(this.main.config.disabled),T.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=T.outerHTML}}},i.prototype.valueDiv=function(t){var s=this,a=document.createElement("div");a.classList.add(this.main.config.value),a.dataset.id=t.id;var e=document.createElement("span");if(e.classList.add(this.main.config.valueText),e.innerHTML=t.innerHTML&&this.main.config.valuesUseText!==!0?t.innerHTML:t.text,a.appendChild(e),!t.mandatory){var n=document.createElement("span");n.classList.add(this.main.config.valueDelete),n.innerHTML=this.main.config.deselectLabel,n.onclick=function(l){l.preventDefault(),l.stopPropagation();var r=!1;if(s.main.beforeOnChange||(r=!0),s.main.beforeOnChange){for(var c=s.main.data.getSelected(),f=JSON.parse(JSON.stringify(c)),p=0;p<f.length;p++)f[p].id===t.id&&f.splice(p,1);s.main.beforeOnChange(f)!==!1&&(r=!0)}r&&(s.main.data.removeFromSelected(t.id,"id"),s.main.render(),s.main.select.setValue(),s.main.data.onDataChange())},a.appendChild(n)}return a},i.prototype.contentDiv=function(){var t=document.createElement("div");return t.classList.add(this.main.config.content),t},i.prototype.searchDiv=function(){var t=this,s=document.createElement("div"),a=document.createElement("input"),e=document.createElement("div");s.classList.add(this.main.config.search);var n={container:s,input:a};return this.main.config.showSearch||(s.classList.add(this.main.config.hide),a.readOnly=!0),a.type="search",a.placeholder=this.main.config.searchPlaceholder,a.tabIndex=0,a.setAttribute("aria-label",this.main.config.searchPlaceholder),a.setAttribute("autocapitalize","off"),a.setAttribute("autocomplete","off"),a.setAttribute("autocorrect","off"),a.onclick=function(l){setTimeout(function(){l.target.value===""&&t.main.search("")},10)},a.onkeydown=function(l){l.key==="ArrowUp"?(t.main.open(),t.highlightUp(),l.preventDefault()):l.key==="ArrowDown"?(t.main.open(),t.highlightDown(),l.preventDefault()):l.key==="Tab"?t.main.data.contentOpen?t.main.close():setTimeout(function(){t.main.close()},t.main.config.timeoutDelay):l.key==="Enter"&&l.preventDefault()},a.onkeyup=function(l){var r=l.target;if(l.key==="Enter"){if(t.main.addable&&l.ctrlKey)return e.click(),l.preventDefault(),void l.stopPropagation();var c=t.list.querySelector("."+t.main.config.highlighted);c&&c.click()}else l.key==="ArrowUp"||l.key==="ArrowDown"||(l.key==="Escape"?t.main.close():t.main.config.showSearch&&t.main.data.contentOpen?t.main.search(r.value):a.value="");l.preventDefault(),l.stopPropagation()},a.onfocus=function(){t.main.open()},s.appendChild(a),this.main.addable&&(e.classList.add(this.main.config.addable),e.innerHTML="+",e.onclick=function(l){if(t.main.addable){l.preventDefault(),l.stopPropagation();var r=t.search.input.value;if(r.trim()==="")return void t.search.input.focus();var c=t.main.addable(r),f="";if(!c)return;typeof c=="object"?u.validateOption(c)&&(t.main.addData(c),f=c.value?c.value:c.text):(t.main.addData(t.main.data.newOption({text:c,value:c})),f=c),t.main.search(""),setTimeout(function(){t.main.set(f,"value",!1,!1)},100),t.main.config.closeOnSelect&&setTimeout(function(){t.main.close()},100)}},s.appendChild(e),n.addable=e),n},i.prototype.highlightUp=function(){var t=this.list.querySelector("."+this.main.config.highlighted),s=null;if(t)for(s=t.previousSibling;s!==null&&s.classList.contains(this.main.config.disabled);)s=s.previousSibling;else{var a=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");s=a[a.length-1]}if(s&&s.classList.contains(this.main.config.optgroupLabel)&&(s=null),s===null){var e=t.parentNode;if(e.classList.contains(this.main.config.optgroup)&&e.previousSibling){var n=e.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");n.length&&(s=n[n.length-1])}}s&&(t&&t.classList.remove(this.main.config.highlighted),s.classList.add(this.main.config.highlighted),v.ensureElementInView(this.list,s))},i.prototype.highlightDown=function(){var t=this.list.querySelector("."+this.main.config.highlighted),s=null;if(t)for(s=t.nextSibling;s!==null&&s.classList.contains(this.main.config.disabled);)s=s.nextSibling;else s=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(s===null&&t!==null){var a=t.parentNode;a.classList.contains(this.main.config.optgroup)&&a.nextSibling&&(s=a.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")"))}s&&(t&&t.classList.remove(this.main.config.highlighted),s.classList.add(this.main.config.highlighted),v.ensureElementInView(this.list,s))},i.prototype.listDiv=function(){var t=document.createElement("div");return t.classList.add(this.main.config.list),t},i.prototype.options=function(t){t===void 0&&(t="");var s,a=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==t)return(s=document.createElement("div")).classList.add(this.main.config.option),s.classList.add(this.main.config.disabled),s.innerHTML=t,void this.list.appendChild(s);if(this.main.config.isAjax&&this.main.config.isSearching)return(s=document.createElement("div")).classList.add(this.main.config.option),s.classList.add(this.main.config.disabled),s.innerHTML=this.main.config.searchingText,void this.list.appendChild(s);if(a.length===0){var e=document.createElement("div");return e.classList.add(this.main.config.option),e.classList.add(this.main.config.disabled),e.innerHTML=this.main.config.searchText,void this.list.appendChild(e)}for(var n=function(f){if(f.hasOwnProperty("label")){var p=f,b=document.createElement("div");b.classList.add(l.main.config.optgroup);var S=document.createElement("div");S.classList.add(l.main.config.optgroupLabel),l.main.config.selectByGroup&&l.main.config.isMultiple&&S.classList.add(l.main.config.optgroupLabelSelectable),S.innerHTML=p.label,b.appendChild(S);var L=p.options;if(L){for(var y=0,C=L;y<C.length;y++){var T=C[y];b.appendChild(l.option(T))}if(l.main.config.selectByGroup&&l.main.config.isMultiple){var H=l;S.addEventListener("click",function(D){D.preventDefault(),D.stopPropagation();for(var M=0,E=b.children;M<E.length;M++){var A=E[M];A.className.indexOf(H.main.config.option)!==-1&&A.click()}})}}l.list.appendChild(b)}else l.list.appendChild(l.option(f))},l=this,r=0,c=a;r<c.length;r++)n(c[r])},i.prototype.option=function(t){if(t.placeholder){var s=document.createElement("div");return s.classList.add(this.main.config.option),s.classList.add(this.main.config.hide),s}var a=document.createElement("div");a.classList.add(this.main.config.option),t.class&&t.class.split(" ").forEach(function(r){a.classList.add(r)}),t.style&&(a.style.cssText=t.style);var e=this.main.data.getSelected();a.dataset.id=t.id,this.main.config.searchHighlight&&this.main.slim&&t.innerHTML&&this.main.slim.search.input.value.trim()!==""?a.innerHTML=v.highlight(t.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):t.innerHTML&&(a.innerHTML=t.innerHTML),this.main.config.showOptionTooltips&&a.textContent&&a.setAttribute("title",a.textContent);var n=this;a.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation();var c=this.dataset.id;if(t.selected===!0&&n.main.config.allowDeselectOption){var f=!1;if(n.main.beforeOnChange&&n.main.config.isMultiple||(f=!0),n.main.beforeOnChange&&n.main.config.isMultiple){for(var p=n.main.data.getSelected(),b=JSON.parse(JSON.stringify(p)),S=0;S<b.length;S++)b[S].id===c&&b.splice(S,1);n.main.beforeOnChange(b)!==!1&&(f=!0)}f&&(n.main.config.isMultiple?(n.main.data.removeFromSelected(c,"id"),n.main.render(),n.main.select.setValue(),n.main.data.onDataChange()):n.main.set(""))}else{if(t.disabled||t.selected||n.main.config.limit&&Array.isArray(e)&&n.main.config.limit<=e.length)return;if(n.main.beforeOnChange){var L=void 0,y=JSON.parse(JSON.stringify(n.main.data.getObjectFromData(c)));y.selected=!0,n.main.config.isMultiple?(L=JSON.parse(JSON.stringify(e))).push(y):L=JSON.parse(JSON.stringify(y)),n.main.beforeOnChange(L)!==!1&&n.main.set(c,"id",n.main.config.closeOnSelect)}else n.main.set(c,"id",n.main.config.closeOnSelect)}});var l=e&&v.isValueInArrayOfObjects(e,"id",t.id);return(t.disabled||l)&&(a.onclick=null,n.main.config.allowDeselectOption||a.classList.add(this.main.config.disabled),n.main.config.hideSelectedOption&&a.classList.add(this.main.config.hide)),l?a.classList.add(this.main.config.optionSelected):a.classList.remove(this.main.config.optionSelected),a},i);function i(t){this.main=t.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}d.Slim=o}],g.c=w,g.d=function(h,d,m){g.o(h,d)||Object.defineProperty(h,d,{enumerable:!0,get:m})},g.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},g.t=function(h,d){if(1&d&&(h=g(h)),8&d||4&d&&typeof h=="object"&&h&&h.__esModule)return h;var m=Object.create(null);if(g.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:h}),2&d&&typeof h!="string")for(var v in h)g.d(m,v,function(u){return h[u]}.bind(null,v));return m},g.n=function(h){var d=h&&h.__esModule?function(){return h.default}:function(){return h};return g.d(d,"a",d),d},g.o=function(h,d){return Object.prototype.hasOwnProperty.call(h,d)},g.p="",g(g.s=2).default;function g(h){if(w[h])return w[h].exports;var d=w[h]={i:h,l:!1,exports:{}};return O[h].call(d.exports,d,d.exports,g),d.l=!0,d.exports}var O,w});var P=x.SlimSelect;export default P;